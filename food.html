<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (P/C/F)</title>
<link rel="stylesheet" href="style.css">
<style>
  .food-card { background: var(--card-white); padding: 35px; border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); border: 1px solid rgba(255,255,255,0.8); margin-bottom: 25px; }
  
  .meal-box { background: #ffffff; border-radius: 18px; padding: 20px; margin-bottom: 20px; border-left: 6px solid #03a9f4; box-shadow: 0 4px 12px rgba(0,0,0,0.03); position: relative; }
  
  .meal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
  .meal-title { font-weight: 700; font-size: 18px; color: #2d3748; }
  
  .reroll-btn { background: #edf2f7; border: none; padding: 6px 12px; border-radius: 8px; cursor: pointer; font-size: 13px; font-weight: 600; color: #4a5568; transition: all 0.2s; }
  .reroll-btn:hover { background: #e2e8f0; color: #2d3748; }

  .food-item { margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px dashed #eee; display: flex; justify-content: space-between; }
  .pcf-tag { font-size: 12px; color: #718096; margin-top: 4px; }
  
  .meal-summary { display: flex; gap: 10px; margin-top: 10px; padding-top: 10px; border-top: 1px solid #edf2f7; font-size: 13px; font-weight: 600; }
  .p-color { color: #e53e3e; } 
  .c-color { color: #3182ce; } 
  .f-color { color: #d69e2e; }

  /* ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏ö‡∏µ‡∏¢‡∏î: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á select */
  #meals { margin-bottom: 30px !important; }
  .gen-btn { margin-top: 10px; margin-bottom: 10px; }
</style>
</head>
<body>

<div class="navbar">
  <a href="index.html">Home</a>
  <a href="calculator.html">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì TDEE</a>
  <a href="food.html" class="active">‡∏à‡∏±‡∏î‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</a>
  <a href="knowledge.html">‡∏ó‡∏§‡∏©‡∏é‡∏µ</a>
  <a href="about.html">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
</div>

<div class="container">
  <div class="food-card">
    <h1>‡∏à‡∏±‡∏î‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£ </h1>
    <p class="small center">‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</p>

    <label>‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (kcal/‡∏ß‡∏±‡∏ô)</label>
    <input id="targetCal" type="number" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2000">

    <label style="margin-top: 15px;">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏∑‡πâ‡∏≠</label>
    <select id="meals">
      <option value="1">1 ‡∏°‡∏∑‡πâ‡∏≠</option>
      <option value="2">2 ‡∏°‡∏∑‡πâ‡∏≠</option>
      <option value="3" selected>3 ‡∏°‡∏∑‡πâ‡∏≠</option>
      <option value="4">4 ‡∏°‡∏∑‡πâ‡∏≠</option>
      <option value="5">5 ‡∏°‡∏∑‡πâ‡∏≠</option>
    </select>

    <button class="gen-btn" onclick="generateAllMeals()">üîÑ‡∏™‡∏£‡πâ‡∏≤‡∏á</button>

    <div id="output" style="margin-top: 30px;"></div>
  </div>
</div>

<script>
// ===== ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏´‡∏≤‡∏£ 80 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏Ñ‡∏•‡∏∞‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤: ‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á, 7-11, ‡∏´‡πâ‡∏≤‡∏á, ‡∏™‡∏≤‡∏¢‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û) =====
const foods = [
  // --- ‡∏´‡∏°‡∏ß‡∏î‡∏à‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å (Main - 40 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) ---
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏≠‡∏Å‡πÑ‡∏Å‡πà+‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß", cal: 520, p: 35, c: 55, f: 18, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö (7-11)", cal: 580, p: 20, c: 62, f: 28, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î‡∏õ‡∏π (Big C)", cal: 450, p: 15, c: 65, f: 14, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏û‡∏∞‡πÅ‡∏ô‡∏á‡∏´‡∏°‡∏π (CP)", cal: 480, p: 16, c: 58, f: 20, cat: "main" },
  { name: "‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ‡∏Ç‡∏µ‡πâ‡πÄ‡∏°‡∏≤‡πÑ‡∏Å‡πà", cal: 420, p: 20, c: 55, f: 12, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏•‡πâ‡∏≠‡∏á+‡∏≠‡∏Å‡πÑ‡∏Å‡πà‡∏ô‡∏∏‡πà‡∏° (7-11)", cal: 350, p: 28, c: 45, f: 5, cat: "main" },
  { name: "‡πÅ‡∏ã‡∏ô‡∏ß‡∏¥‡∏ä‡πÅ‡∏Æ‡∏°‡∏ä‡∏µ‡∏™ (‡∏≠‡∏ö‡∏£‡πâ‡∏≠‡∏ô)", cal: 300, p: 12, c: 30, f: 15, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏•‡∏≤‡∏ö‡∏´‡∏°‡∏π+‡πÑ‡∏Ç‡πà‡∏ï‡πâ‡∏°", cal: 450, p: 25, c: 50, f: 16, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏°‡∏±‡∏ô‡πÑ‡∏Å‡πà (‡πÑ‡∏°‡πà‡∏´‡∏ô‡∏±‡∏á)", cal: 550, p: 22, c: 70, f: 20, cat: "main" },
  { name: "‡∏™‡∏∏‡∏Å‡∏µ‡πâ‡∏ô‡πâ‡∏≥‡πÑ‡∏Å‡πà (‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á)", cal: 280, p: 20, c: 30, f: 8, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏° (7-11)", cal: 510, p: 19, c: 62, f: 21, cat: "main" },
  { name: "‡πÄ‡∏™‡πâ‡∏ô‡∏´‡∏°‡∏µ‡πà‡∏ô‡πâ‡∏≥‡πÉ‡∏™‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö", cal: 320, p: 15, c: 45, f: 8, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏ô‡πâ‡∏≥‡∏û‡∏£‡∏¥‡∏Å‡∏õ‡∏•‡∏≤‡∏ó‡∏π+‡∏ú‡∏±‡∏Å‡∏ï‡πâ‡∏°", cal: 420, p: 25, c: 50, f: 12, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏•‡∏≤‡∏ã‡∏≤‡∏ö‡∏∞‡∏¢‡πà‡∏≤‡∏á", cal: 450, p: 22, c: 55, f: 15, cat: "main" },
  { name: "‡∏£‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏°‡∏π‡∏´‡∏°‡∏±‡∏Å", cal: 450, p: 18, c: 60, f: 15, cat: "main" },
  { name: "‡∏ú‡∏±‡∏î‡πÑ‡∏ó‡∏¢‡∏Å‡∏∏‡πâ‡∏á‡∏™‡∏î", cal: 600, p: 20, c: 80, f: 22, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏¢‡∏≥‡∏õ‡∏±‡∏Å‡∏©‡πå‡πÉ‡∏ï‡πâ", cal: 380, p: 12, c: 70, f: 6, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏ã‡∏≠‡∏¢‡πÑ‡∏Å‡πà", cal: 550, p: 22, c: 60, f: 25, cat: "main" },
  { name: "‡∏ï‡πâ‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏´‡∏°‡∏π+‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏ß‡∏¢", cal: 400, p: 25, c: 50, f: 10, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏î‡∏¢‡πà‡∏≤‡∏á", cal: 580, p: 20, c: 65, f: 26, cat: "main" },
  { name: "‡∏™‡∏•‡∏±‡∏î‡∏ó‡∏π‡∏ô‡πà‡∏≤ (Subway style)", cal: 250, p: 18, c: 15, f: 12, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏°‡∏π‡πÅ‡∏î‡∏á (‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°)", cal: 560, p: 18, c: 75, f: 20, cat: "main" },
  { name: "‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö", cal: 480, p: 20, c: 65, f: 15, cat: "main" },
  { name: "‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡πÅ‡∏´‡πâ‡∏á‡∏ï‡πâ‡∏°‡∏¢‡∏≥", cal: 450, p: 15, c: 60, f: 16, cat: "main" },
  { name: "‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏≠‡∏Å‡πÑ‡∏Å‡πà+‡∏°‡∏±‡∏ô‡∏ö‡∏î", cal: 400, p: 35, c: 35, f: 12, cat: "main" },
  { name: "‡πÅ‡∏Å‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏´‡∏ß‡∏≤‡∏ô‡πÑ‡∏Å‡πà+‡∏Ç‡πâ‡∏≤‡∏ß", cal: 550, p: 20, c: 60, f: 25, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏Ñ‡∏•‡∏∏‡∏Å‡∏Å‡∏∞‡∏õ‡∏¥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏£‡∏ö", cal: 580, p: 18, c: 70, f: 25, cat: "main" },
  { name: "‡πÇ‡∏à‡πä‡∏Å‡∏´‡∏°‡∏π‡πÄ‡∏î‡πâ‡∏á‡πÉ‡∏™‡πà‡πÑ‡∏Ç‡πà", cal: 350, p: 18, c: 45, f: 10, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏≠‡∏ö (‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)", cal: 650, p: 18, c: 65, f: 35, cat: "main" },
  { name: "‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏ú‡∏±‡∏î‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏´‡∏°‡∏π", cal: 620, p: 20, c: 75, f: 26, cat: "main" },
  { name: "‡∏™‡∏•‡∏±‡∏î‡πÇ‡∏£‡∏•‡∏õ‡∏π‡∏≠‡∏±‡∏î", cal: 220, p: 8, c: 35, f: 5, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏ô‡πâ‡∏≥‡∏û‡∏£‡∏¥‡∏Å‡∏•‡∏á‡πÄ‡∏£‡∏∑‡∏≠", cal: 520, p: 15, c: 65, f: 22, cat: "main" },
  { name: "‡∏õ‡∏•‡∏≤‡πÄ‡∏ú‡∏≤+‡∏ú‡∏±‡∏Å+‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß", cal: 500, p: 35, c: 60, f: 10, cat: "main" },
  { name: "‡∏ï‡∏≥‡πÑ‡∏ó‡∏¢+‡πÑ‡∏Å‡πà‡∏¢‡πà‡∏≤‡∏á+‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß", cal: 600, p: 30, c: 80, f: 18, cat: "main" },
  { name: "‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡∏Å‡∏∂‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏´‡∏°‡∏π", cal: 420, p: 14, c: 60, f: 14, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏ï‡πâ‡∏°‡∏õ‡∏•‡∏≤‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå", cal: 320, p: 22, c: 45, f: 6, cat: "main" },
  { name: "‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ‡∏ó‡∏£‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á+‡∏Ç‡πâ‡∏≤‡∏ß", cal: 400, p: 18, c: 55, f: 12, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏Å‡πà‡πÄ‡∏ó‡∏≠‡∏£‡∏¥‡∏¢‡∏≤‡∏Å‡∏¥", cal: 520, p: 25, c: 70, f: 15, cat: "main" },
  { name: "‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏õ‡∏•‡∏≤‡∏î‡∏≠‡∏•‡∏•‡∏µ‡πà‡∏¢‡πà‡∏≤‡∏á", cal: 350, p: 25, c: 30, f: 14, cat: "main" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏¢‡∏≥‡∏õ‡∏•‡∏≤‡∏ó‡∏π‡∏¢‡πà‡∏≤‡∏á", cal: 450, p: 26, c: 60, f: 12, cat: "main" },

  // --- ‡∏´‡∏°‡∏ß‡∏î‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô (Side - 20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) ---
  { name: "‡∏≠‡∏Å‡πÑ‡∏Å‡πà‡∏ô‡∏∏‡πà‡∏° (7-11)", cal: 120, p: 24, c: 1, f: 2, cat: "side" },
  { name: "‡πÑ‡∏Ç‡πà‡∏ï‡πâ‡∏° (2 ‡∏ü‡∏≠‡∏á)", cal: 140, p: 12, c: 1, f: 10, cat: "side" },
  { name: "‡πÑ‡∏Ç‡πà‡∏ï‡∏∏‡πã‡∏ô‡∏Ñ‡∏±‡∏û (7-11)", cal: 110, p: 9, c: 4, f: 7, cat: "side" },
  { name: "‡∏ô‡∏° High Protein (‡∏ó‡∏∏‡∏Å‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠)", cal: 170, p: 28, c: 10, f: 2, cat: "side" },
  { name: "‡∏ó‡∏π‡∏ô‡πà‡∏≤‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠ (‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á)", cal: 140, p: 30, c: 0, f: 2, cat: "side" },
  { name: "‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ‡∏õ‡∏•‡∏≤ (‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡πÑ‡∏°‡πâ)", cal: 120, p: 10, c: 12, f: 4, cat: "side" },
  { name: "‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡πÑ‡∏Å‡πà (CP)", cal: 160, p: 12, c: 4, f: 11, cat: "side" },
  { name: "‡∏õ‡∏π‡∏≠‡∏±‡∏î (‡∏â‡∏µ‡∏Å‡∏ã‡∏≠‡∏á)", cal: 90, p: 8, c: 12, f: 1, cat: "side" },
  { name: "‡∏ô‡∏°‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á (‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢)", cal: 130, p: 10, c: 12, f: 5, cat: "side" },
  { name: "‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡∏™‡∏π‡∏á", cal: 120, p: 15, c: 10, f: 2, cat: "side" },
  { name: "‡∏ä‡∏µ‡∏™‡πÅ‡∏ú‡πà‡∏ô (1 ‡πÅ‡∏ú‡πà‡∏ô)", cal: 60, p: 5, c: 1, f: 5, cat: "side" },
  { name: "‡∏ñ‡∏±‡πà‡∏ß‡πÅ‡∏£‡∏∞‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô", cal: 140, p: 12, c: 10, f: 6, cat: "side" },
  { name: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏õ‡∏•‡∏≤‡∏Å‡∏£‡∏≠‡∏ö", cal: 110, p: 12, c: 8, f: 3, cat: "side" },
  { name: "‡πÄ‡∏ß‡∏¢‡πå‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô 1 ‡∏™‡∏Å‡∏π‡πä‡∏õ", cal: 120, p: 25, c: 3, f: 1, cat: "side" },
  { name: "‡∏ô‡∏°‡∏≠‡∏±‡∏•‡∏°‡∏≠‡∏ô‡∏î‡πå (Unsweetened)", cal: 25, p: 1, c: 1, f: 2, cat: "side" },
  { name: "‡∏´‡∏°‡∏π‡πÄ‡∏™‡πâ‡∏ô (‡∏ã‡∏≠‡∏á‡πÄ‡∏•‡πá‡∏Å)", cal: 150, p: 14, c: 12, f: 5, cat: "side" },
  { name: "‡πÑ‡∏Ç‡πà‡∏•‡∏ß‡∏Å (2 ‡∏ü‡∏≠‡∏á)", cal: 140, p: 12, c: 2, f: 10, cat: "side" },
  { name: "‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏ú‡∏±‡∏î‡∏û‡∏£‡∏¥‡∏Å‡πÅ‡∏Å‡∏á", cal: 180, p: 15, c: 10, f: 8, cat: "side" },
  { name: "‡∏ô‡πâ‡∏≥‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ (‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•)", cal: 100, p: 8, c: 8, f: 4, cat: "side" },
  { name: "‡∏≠‡∏Å‡πÑ‡∏Å‡πà‡πÅ‡∏ó‡πà‡∏á (7-11)", cal: 110, p: 20, c: 2, f: 2, cat: "side" },

  // --- ‡∏´‡∏°‡∏ß‡∏î‡∏Ç‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á/‡∏ú‡∏•‡πÑ‡∏°‡πâ/‡∏≠‡∏∑‡πà‡∏ô‡πÜ (Snack - 20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) ---
  { name: "‡∏ñ‡∏±‡πà‡∏ß‡∏≠‡∏±‡∏•‡∏°‡∏≠‡∏ô‡∏î‡πå (‡πÅ‡∏û‡πá‡∏Ñ‡πÄ‡∏•‡πá‡∏Å)", cal: 160, p: 6, c: 6, f: 14, cat: "snack" },
  { name: "‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï 0% Fat", cal: 80, p: 4, c: 15, f: 0, cat: "snack" },
  { name: "‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏´‡∏≠‡∏°‡∏ó‡∏≠‡∏á", cal: 100, p: 1, c: 27, f: 0, cat: "snack" },
  { name: "‡∏ù‡∏£‡∏±‡πà‡∏á (1 ‡∏ú‡∏•)", cal: 120, p: 1, c: 30, f: 0, cat: "snack" },
  { name: "‡∏°‡∏∞‡∏•‡∏∞‡∏Å‡∏≠‡∏™‡∏∏‡∏Å (6-8 ‡∏ä‡∏¥‡πâ‡∏ô)", cal: 60, p: 0, c: 15, f: 0, cat: "snack" },
  { name: "‡∏°‡∏±‡∏ô‡∏´‡∏ß‡∏≤‡∏ô‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô (‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å)", cal: 180, p: 2, c: 42, f: 0, cat: "snack" },
  { name: "‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡∏• (1 ‡∏•‡∏π‡∏Å)", cal: 80, p: 0, c: 20, f: 0, cat: "snack" },
  { name: "‡πÄ‡∏°‡πá‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏´‡∏¥‡∏°‡∏û‡∏≤‡∏ô‡∏ï‡πå", cal: 170, p: 6, c: 9, f: 13, cat: "snack" },
  { name: "‡∏ò‡∏±‡∏ç‡∏û‡∏∑‡∏ä‡∏≠‡∏±‡∏î‡πÅ‡∏ó‡πà‡∏á (Energy Bar)", cal: 120, p: 3, c: 20, f: 4, cat: "snack" },
  { name: "‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡∏ï‡πâ‡∏° (‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ù‡∏±‡∏Å)", cal: 100, p: 3, c: 22, f: 1, cat: "snack" },
  { name: "‡∏™‡πâ‡∏°‡∏™‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á (2 ‡∏•‡∏π‡∏Å)", cal: 100, p: 1, c: 24, f: 0, cat: "snack" },
  { name: "‡πÅ‡∏ï‡∏á‡πÇ‡∏° (1 ‡∏à‡∏≤‡∏ô‡πÄ‡∏•‡πá‡∏Å)", cal: 50, p: 1, c: 12, f: 0, cat: "snack" },
  { name: "‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡πÇ‡∏Æ‡∏•‡∏ß‡∏µ‡∏ï (1 ‡πÅ‡∏ú‡πà‡∏ô)", cal: 70, p: 3, c: 12, f: 1, cat: "snack" },
  { name: "‡∏Å‡∏£‡∏≤‡πÇ‡∏ô‡∏•‡πà‡∏≤ (30 ‡∏Å‡∏£‡∏±‡∏°)", cal: 150, p: 4, c: 25, f: 5, cat: "snack" },
  { name: "‡∏ß‡∏∏‡πâ‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏¢‡πá‡∏ô‡∏ï‡∏≤‡πÇ‡∏ü‡∏Ñ‡∏±‡∏û", cal: 160, p: 2, c: 35, f: 1, cat: "snack" },
  { name: "‡πÄ‡∏â‡∏≤‡∏Å‡πä‡∏ß‡∏¢ (‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢)", cal: 120, p: 0, c: 30, f: 0, cat: "snack" },
  { name: "‡∏ô‡πâ‡∏≥‡πÉ‡∏ö‡∏ö‡∏±‡∏ß‡∏ö‡∏Å (‡∏Ç‡∏ß‡∏î)", cal: 70, p: 0, c: 18, f: 0, cat: "snack" },
  { name: "‡∏ó‡∏≤‡πÇ‡∏£‡πà (‡∏ã‡∏≠‡∏á‡πÄ‡∏•‡πá‡∏Å)", cal: 80, p: 8, p: 12, f: 0, cat: "snack" },
  { name: "‡∏ñ‡∏±‡πà‡∏ß‡πÅ‡∏£‡∏∞‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô (CP)", cal: 140, p: 12, c: 10, f: 6, cat: "snack" },
  { name: "‡∏î‡∏≤‡∏£‡πå‡∏Å‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï (1 ‡∏ä‡∏¥‡πâ‡∏ô)", cal: 60, p: 1, c: 5, f: 4, cat: "snack" }
];
let currentPlan = [];

window.onload = function() {
  const savedData = localStorage.getItem('userHealthData');
  if (savedData) {
    const data = JSON.parse(savedData);
    if(data.tdee) document.getElementById('targetCal').value = data.tdee;
  }
};

function generateAllMeals() {
  const target = parseInt(document.getElementById("targetCal").value);
  const mealCount = parseInt(document.getElementById("meals").value);
  if(!target) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢");

  currentPlan = [];
  const kcalPerMeal = target / mealCount;

  for(let i=0; i < mealCount; i++) {
    currentPlan.push(getRandomMeal(kcalPerMeal));
  }
  renderMeals();
}

function getRandomMeal(targetKcal) {
  let mealKcal = 0;
  let mealItems = [];
  let attempts = 0;

  while(mealKcal < targetKcal - 60 && attempts < 15) {
    let pool = (mealKcal === 0) ? foods.filter(f => f.cat === "main") : foods;
    let item = pool[Math.floor(Math.random() * pool.length)];
    
    if(!mealItems.includes(item)) {
      mealItems.push(item);
      mealKcal += item.cal;
    }
    attempts++;
  }
  return mealItems;
}

function rerollSingleMeal(index) {
  const target = parseInt(document.getElementById("targetCal").value);
  const mealCount = parseInt(document.getElementById("meals").value);
  currentPlan[index] = getRandomMeal(target / mealCount);
  renderMeals();
}

function renderMeals() {
  const output = document.getElementById("output");
  let html = "";

  currentPlan.forEach((meal, idx) => {
    let tCal = 0, tP = 0, tC = 0, tF = 0;
    html += `<div class="meal-box">
              <div class="meal-header">
                <span class="meal-title">‡∏°‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà ${idx + 1}</span>
                <button class="reroll-btn" onclick="rerollSingleMeal(${idx})">üîÑ ‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
              </div>`;
    
    meal.forEach(item => {
      tCal += item.cal; tP += item.p; tC += item.c; tF += item.f;
      html += `<div class="food-item">
                <div>
                  <div>${item.name}</div>
                  <div class="pcf-tag">P: ${item.p}g | C: ${item.c}g | F: ${item.f}g</div>
                </div>
                <div style="font-weight:600">${item.cal} kcal</div>
              </div>`;
    });

    html += `<div class="meal-summary">
              <span>‡∏£‡∏ß‡∏°: ${tCal} kcal</span>
              <span class="p-color">P: ${tP}g</span>
              <span class="c-color">C: ${tC}g</span>
              <span class="f-color">F: ${tF}g</span>
            </div></div>`;
  });
  output.innerHTML = html;
}
</script>
</body>
</html>
