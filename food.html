<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>วางแผนอาหารตามพลังงาน (Food Planner)</title>
<link rel="stylesheet" href="style.css"> <style>
  /* เพิ่มระยะห่างเฉพาะจุดในหน้า Food */
  .food-card {
    background: var(--card-white);
    padding: 35px;
    border-radius: 24px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    border: 1px solid rgba(255,255,255,0.8);
    margin-bottom: 25px;
  }

  /* แก้ไขปัญหามันเบียดกัน */
  select#meals {
    margin-bottom: 25px; /* เพิ่มระยะห่างด้านล่างช่องเลือกมื้ออาหารก่อนถึงปุ่ม */
  }

  .meal-box {
    background: #ffffff;
    border-radius: 18px;
    padding: 20px;
    margin-bottom: 15px;
    border-left: 6px solid #03a9f4;
    box-shadow: 0 4px 12px rgba(0,0,0,0.03);
    transition: transform 0.3s ease;
  }

  .meal-box:hover {
    transform: translateX(5px);
  }

  .meal-title {
    font-weight: 700;
    font-size: 18px;
    color: #2d3748;
    margin-bottom: 10px;
    display: block;
  }

  .food-list {
    margin: 0;
    padding-left: 20px;
    color: var(--text-muted);
  }
</style>
</head>
<body>

<div class="navbar">
  <a href="index.html">Home</a>
  <a href="calculator.html">คำนวณ TDEE</a>
  <a href="food.html" class="active">จัดเมนูอาหาร</a>
  <a href="knowledge.html">ทฤษฎี</a>
  <a href="about.html">เกี่ยวกับเรา</a>
</div>

<div class="container">
  <div class="food-card">
    <h1>จัดเมนูอาหารตามพลังงาน</h1>
    <p class="small center" style="margin-bottom: 25px;">สุ่มรายการอาหารให้เหมาะสมกับเป้าหมายแคลอรี่ของคุณ</p>

    <label>พลังงานที่ต้องการ (kcal/วัน)</label>
    <input id="targetCal" type="number" placeholder="เช่น 2600">

    <label style="margin-top: 20px;">จำนวนมื้อ</label>
    <select id="meals">
      <option value="1">1 มื้อ</option>
      <option value="2">2 มื้อ</option>
      <option value="3">3 มื้อ</option>
      <option value="4">4 มื้อ</option>
      <option value="5">5 มื้อ</option>
    </select>

    <button class="gen-btn" onclick="generateMeal()">จัดเมนูอาหาร</button>

    <div id="output" class="result" style="display:none; border:none; background:transparent; padding:0; margin-top: 30px;"></div>

    <p class="small" style="margin-top:30px; text-align: center; border-top: 1px solid #eee; padding-top: 15px;">
      * ข้อมูลพลังงานเป็นค่าเฉลี่ย อ้างอิงจากฐานข้อมูลโภชนาการอาหารไทย (INMU)
    </p>
  </div>
</div>

<script>
// ดึงข้อมูลอาหารจากฐานข้อมูล
const foods = [
 {name:"ข้าวกะเพราไก่",cal:580},{name:"ข้าวกะเพราหมู",cal:650},
 {name:"ข้าวกะเพราอกไก่",cal:520},{name:"ข้าวผัดไข่",cal:560},
 {name:"ข้าวผัดหมู",cal:650},{name:"ข้าวผัดไก่",cal:620},
 {name:"ข้าวไข่เจียว",cal:500},{name:"ข้าวไข่เจียวหมูสับ",cal:600},
 {name:"ข้าวหมูแดง",cal:650},{name:"ข้าวหมูกรอบ",cal:720},
 {name:"ข้าวมันไก่",cal:680},{name:"ข้าวหน้าไก่",cal:620},
 {name:"ข้าวต้มหมู",cal:420},{name:"ข้าวต้มไก่",cal:400},
 {name:"ข้าวคลุกกะปิ",cal:600},{name:"ข้าวราดผัดผักรวม",cal:450},
 {name:"ข้าวผัดพริกแกงหมู",cal:650},{name:"ข้าวผัดพริกแกงไก่",cal:620},
 {name:"ข้าวผัดปลากระป๋อง",cal:550},{name:"ข้าวผัดกะเพราปลาทอด",cal:700},
 {name:"อกไก่ต้ม",cal:165},{name:"ไก่ย่าง",cal:240},
 {name:"หมูย่าง",cal:290},{name:"ไข่ต้ม",cal:75},
 {name:"ไข่ดาว",cal:95},{name:"ไข่คน",cal:120},
 {name:"ปลาทูทอด",cal:200},{name:"ปลานึ่งซีอิ๊ว",cal:180},
 {name:"เต้าหู้ขาวนึ่ง",cal:80},{name:"หมูทอดกระเทียม",cal:310},
 {name:"กล้วยหอม",cal:105},{name:"กล้วยน้ำว้า",cal:120},
 {name:"แอปเปิล",cal:95},{name:"ส้ม",cal:60},
 {name:"แตงโม",cal:45},{name:"มะละกอสุก",cal:55},
 {name:"ข้าวโพดต้ม",cal:130},{name:"มันเทศนึ่ง",cal:160},
 {name:"นมจืด",cal:120},{name:"นมถั่วเหลือง",cal:110},
 {name:"โยเกิร์ตธรรมชาติ",cal:90},{name:"ขนมปังโฮลวีต",cal:90},
 {name:"เวย์โปรตีน 1 สกู๊ป",cal:120},{name:"ถั่วลิสงคั่ว",cal:170}
];

function generateMeal(){
 const target = parseInt(document.getElementById("targetCal").value);
 const meals = parseInt(document.getElementById("meals").value);
 if(!target){ alert("กรุณาใส่พลังงาน"); return; }

 let perMeal = Math.round(target / meals);
 let used = [];
 let html = `<h2 style="text-align:center; margin: 25px 0;">เป้าหมาย ${target} kcal</h2>`;

 for(let m=1;m<=meals;m++){
   let total=0, items=[];
   let attempts = 0;
   while(total < perMeal-80 && attempts < 20){
     let f = foods[Math.floor(Math.random()*foods.length)];
     if(!used.includes(f.name)){
       items.push(f);
       used.push(f.name);
       total += f.cal;
     }
     attempts++;
   }
   html += `
    <div class="meal-box">
      <span class="meal-title">มื้อที่ ${m} (ประมาณ ${total} kcal)</span>
      <ul class="food-list">`;
   items.forEach(i=>{
     html += `<li>${i.name} (${i.cal} kcal)</li>`;
   });
   html += `</ul></div>`;
 }
 document.getElementById("output").style.display="block";
 document.getElementById("output").innerHTML = html;
}
</script>
</body>
</html>
